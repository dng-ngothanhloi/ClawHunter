# Environment Configuration for AdilChain Devnet Deployment
# Copy this file to .env and fill in the actual values
# NEVER commit real secrets to the repository

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# AdilChain Devnet Configuration
ADL_RPC_URL=https://devnet.adilchain-rpc.io
ADL_EXPLORER_URL=https://devnet.adilchain-scan.io
ADL_CHAIN_ID=123456

# Deployment Account (NEVER commit real private key)
DEPLOYER_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
DEPLOYER_ADDRESS=0x12a87E08a5885Aaf05D7663698b901B8f0DB3e40

# Oracle Configuration (for testing)
ORACLE_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
ORACLE_ADDRESS=0x0000000000000000000000000000000000000000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MySQL Database (for M3 Indexer and M4 API)
DATABASE_URL=mysql://root:root@127.0.0.1:3306/clawhunters
SHADOW_DATABASE_URL=mysql://appuser:appuser@127.0.0.1:3306/clawhunters_shadow

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_TIMEOUT=30000

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# API Service (M4)
API_PORT=3000
API_BASE_URL=http://127.0.0.1:3000
JWT_SECRET=your-jwt-secret-here
CORS_ORIGIN=http://127.0.0.1:5173

# Indexer Service (M3)
INDEXER_PORT=3001
INDEXER_POLL_INTERVAL=5000
INDEXER_BATCH_SIZE=100

# Web Frontend (M5)
VITE_API_URL=http://127.0.0.1:3000
VITE_NETWORK_NAME=AdilChain Devnet
VITE_RPC_URL=https://devnet.adilchain-rpc.io
VITE_EXPLORER_URL=https://devnet.adilchain-scan.io

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX=100        # requests per window

# CORS Configuration
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# PRODUCTION OVERRIDES (for Render.com deployment)
# =============================================================================

# Production Database (will be overridden by Render.com)
PROD_DATABASE_URL=mysql://appuser:appuser@prod-host:3306/clawhunters

# Production API
PROD_API_URL=https://api.clawhunters.com
PROD_WEB_URL=https://app.clawhunters.com

# Production Security
PROD_JWT_SECRET=production-jwt-secret-here
PROD_CORS_ORIGIN=https://app.clawhunters.com

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Development Tools
HARDHAT_NETWORK=127.0.0.1
HARDHAT_VERBOSE=false

# Testing
TEST_TIMEOUT=30000
TEST_PARALLEL=true

# Analytics (optional)
ANALYTICS_API_KEY=optional-analytics-key
ANALYTICS_ENABLED=false

# =============================================================================
# DEPLOYMENT ARTIFACTS
# =============================================================================

# Contract Addresses (auto-generated after deployment)
CONTRACT_ADDRESSES_FILE=contracts/addresses.adil.json

# ABI Files Directory
ABI_DIR=contracts/typechain-types

# Deployment Log
DEPLOYMENT_LOG_FILE=deployment.log

# =============================================================================
# EXAMPLE VALUES (for reference)
# =============================================================================

# Example private key format (64 hex characters):
# DEPLOYER_PRIVATE_KEY=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# Example database URL format:
# DATABASE_URL=mysql://root:password@127.0.0.1:3306/clawhunters

# Example API URL format:
# API_BASE_URL=https://api.example.com

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. NEVER commit real private keys to version control
# 2. Use environment variables or secure secret management
# 3. Rotate keys regularly in production
# 4. Use different keys for different environments
# 5. Monitor key usage and access logs
# 6. Implement key rotation procedures
# 7. Use hardware wallets for production deployments

# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# If deployment fails:
# 1. Check network connectivity: curl $ADL_RPC_URL
# 2. Verify account balance: npx hardhat balance --network adil
# 3. Check gas prices: npx hardhat gas-price --network adil
# 4. Review deployment logs: tail -f deployment.log
# 5. Contact DevOps team if issues persist

# Common issues:
# - Insufficient gas: Increase gas limit in hardhat config
# - Network timeout: Check RPC endpoint status
# - Nonce issues: Reset account nonce if needed
# - Contract size: Enable optimizer if contracts too large
